<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>call backhell</title>
</head>
<body style="text-align: center;">  
    <h1> Call back hell functionallity</h1>
    
</body>

<script>

let h1 =  document.querySelector('h1')

function changeColor(color, delay, nextColorChange){
  setTimeout(function(){
      h1.style.color = color;
      if(nextColorChange) nextColorChange()
  }, delay)
}

// changeColor("red",1000, ()=>{
//     changeColor("green",1000, ()=>{
//         changeColor("yellow",1000, ()=> {
//             changeColor("gray",1000)
//         })
//         })
// })
// callback nesting ===> callback hell

// changeColor("green",3000)
// changeColor("",4000)

//  setTimeout(function() {
//        h1.style.color = "red" 
//     }, 1000);

// setTimeout(function() {
//        h1.style.color = "green" 
//     }, 2000);
// setTimeout(function() {
//        h1.style.color = "blue" 
//     }, 3000);
// setTimeout(function() {
//        h1.style.color = "" 
//     }, 4000);

// promises


function saveToDb(data, success, failure){
    let internetSpeed = Math.floor(Math.random()*10)+1;
    if( internetSpeed>4){
        success();
    }else{
        failure();
    }
}

saveToDb(
    "apna collage", 
    ()=> {
    console.log("Success,your data was saved");
    saveToDb("Rajneesh", ()=>{
        console.log("success 2 : your data was saved")
        saveToDb("third callback", ()=> {
            console.log("success 3 : your data was saved")
        }, ()=>{
            console.log('failure 3 : connection weak, your data not saved')
        })
    },
    ()=>{
        console.log("failure 2 : Connection weak, your data was not saved")
    })

}
    ,()=> {
    console.log(" failure ,Connection weak, your data was not saved");
    })


</script>

</html>