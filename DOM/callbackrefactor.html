<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>call backhell</title>
</head>
<body style="text-align: center;">  
    <h1> Call back hell and refactoring data</h1>
    
</body>

<script>

let h1 =  document.querySelector('h1')

function changeColor(color, delay){
    return new Promise((resolve, reject)=> {
        setTimeout(function(){
            let num = Math.floor(Math.random()*5)+1;
            if(num > 3){
                reject("promise rejected")
            }
            resolve("color changed") // result
            console.log("color change to ", color)
             h1.style.color = color;      
  }, delay)
})

}
async function demo(){
   try{
    await changeColor('red', 1000)
    await changeColor('green', 1000)
    await changeColor('blue', 1000)
    await changeColor('purple', 1000)
   }catch(error){
        console.log("error caught");
        console.log(error);
   }

   let a = 10;
   console.log("number is : ", a);
}

// demo();


//  changeColor("red", 1000)
// .then((result)=>{
//     console.log("blue", result)
//     return changeColor("blue", 1000)
// }).then((result)=> {
//     console.log("gray", result)
//     return changeColor("gray", 1000)
// }).then((result)=> {
//     console.log("orange", result)
//     return changeColor("orange", 1000)
// }).then((result)=> {
//     console.log("purple", result)
//     return changeColor("purple", 1000)
// })




</script>

</html>